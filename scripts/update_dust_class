#!/usr/bin/env Rscript
devtools::load_all()

template_r <- read_lines("inst/template/dust.R.template")

txt <- glue_whisker(template_r, list(name = "dust_class"))
txt <- gsub(") \\{.+?\n    \\}", ") {\n    }", txt)

header <- c(
  "## DO NOT EDIT THIS FILE!",
  "## Instead, edit the file inst/template/dust.R.template",
  "",
  "## NOTE: R6 classes do not support interfaces and inheritence is not",
  "## really needed here as this does not *do* anything, so consider this",
  "## a hack to allow Roxygen's R6 documentation to work.",
  "",
  "##' @rdname dust",
  "##' @name dust")

writeLines(c(header, txt), "R/dust_class.R")
